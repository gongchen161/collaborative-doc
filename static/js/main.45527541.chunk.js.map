{"version":3,"sources":["Firebase.js","AuthContext.js","components/NavBar.js","components/Document.js","components/Signup.js","components/Login.js","components/Home.js","components/Profile.js","App.js","index.js"],"names":["firebase","apps","length","console","log","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","e","auth","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","user","setUser","openSnackbar","setOpenSnackbar","value","message","setMessage","timeout","ms","Promise","resolve","setTimeout","useEffect","onAuthStateChanged","u","Provider","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","NavBar","inDoc","docId","classes","history","useHistory","anchorEl","setAnchorEl","openShareDocForm","setOpenShareDocForm","shareEmailRef","useRef","isCreatingNewDoc","setIsCreatingNewDoc","handleSignout","a","signOut","push","goToProfile","endShareDoc","goToNewDoc","uuid","database","ref","child","SHA256","email","update","createdBy","createdTime","Date","getTime","AppBar","position","color","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","onClose","Toolbar","IconButton","edge","className","Button","component","Link","to","Typography","variant","onClick","event","currentTarget","id","keepMounted","Boolean","MenuItem","Dialog","DialogTitle","DialogContent","DialogContentText","TextField","autoFocus","margin","label","type","fullWidth","inputRef","DialogActions","current","CircularProgress","Document","quill","setTitle","useParams","sessionId","titleRef","createRef","disableTitle","setDisableTitle","loading","setLoading","on","data","childData","val","getEditor","updateContents","delta","uploadTitle","text","trim","placeholder","InputLabelProps","shrink","disabled","readOnly","onChange","target","onKeyPress","ev","key","blur","onFocus","onBlur","InputProps","startAdornment","InputAdornment","LinearProgress","size","thickness","content","source","editor","paper","marginTop","display","flexDirection","alignItems","icon","backgroundColor","palette","primary","dark","form","width","submit","SignUp","emailRef","passwordRef","password2Ref","signUp","preventDefault","createUserWithEmailAndPassword","Container","maxWidth","CssBaseline","Avatar","noValidate","Grid","container","item","xs","required","name","autoComplete","justifyContent","href","Login","login","signInWithEmailAndPassword","padding","textAlign","verticalAlign","secondary","fontSize","Home","myDocs","setMyDocs","titleData","titleChild","some","el","arr","sort","b","Box","m","pt","Divider","map","x","i","Card","CardActionArea","CardContent","toString","Profile","App","exact","path","rgb","createMuiTheme","light","main","typography","useNextVariants","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.45527541.chunk.js","sourcesContent":["\nimport firebase from 'firebase';\n\nexport const firebaseConfig = {\n    apiKey: process.env.REACT_APP_API_KEY,\n    authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n    projectId: process.env.REACT_APP_PROJECT_ID,\n    storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n    messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n    appId: process.env.REACT_APP_APP_ID\n};\n\ntry {\n    if(!firebase.apps.length) {\n        console.log(\"initializing firebase\");\n        firebase.initializeApp(firebaseConfig)\n    } \n} catch (e) {\n    console.log(\"error initializing firebase\", e);\n}\nexport default firebase;\nexport const auth = firebase.auth();","\n\nimport React, { useState, useEffect, useRef, useContext } from 'react'\nimport purple from '@material-ui/core/colors/purple';\nimport green from '@material-ui/core/colors/green';\nimport { auth } from './Firebase';\nimport uuid from 'react-uuid'\n\nconst AuthContext = React.createContext();\n\nexport function useAuth(){\n     return useContext(AuthContext);\n}\n\nexport function AuthProvider({ children }) {\n    const [user, setUser] = useState();\n    const [openSnackbar, setOpenSnackbar] = useState(false)\n    const [message, setMessage] = useState(\"\");\n\n    function timeout(ms) {\n        return new Promise(resolve => setTimeout(resolve, ms));\n    }\n    \n    const value = {\n        user,\n        openSnackbar,\n        setOpenSnackbar,\n        message,\n        setMessage,\n        timeout\n    }\n\n    useEffect(() => {\n        const cleanup = auth.onAuthStateChanged( (u) => {\n            setUser(u);\n        })\n        return cleanup;\n    }, [])\n  \n\n    return (\n        <AuthContext.Provider value={value}>\n            {children}\n        </AuthContext.Provider>\n\n    )\n\n}","import Recat, { useState, useEffect, useRef, createRef } from 'react'\nimport { useParams } from \"react-router-dom\";\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport '../styles.css'\nimport firebase from '../Firebase';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Button from '@material-ui/core/Button';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport TextField from '@material-ui/core/TextField';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport TitleIcon from '@material-ui/icons/Title';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { useAuth } from '../AuthContext';\nimport { Link } from 'react-router-dom';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport uuid from 'react-uuid'\nimport { useHistory } from 'react-router-dom';\nimport HomeIcon from '@material-ui/icons/Home';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { auth } from '../Firebase';\nimport ShareIcon from '@material-ui/icons/Share';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport SHA256 from \"crypto-js/sha256\";\nimport { CircularProgress } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      flexGrow: 1,\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    title: {\n      flexGrow: 1,\n    },\n  }));\n\nexport default function NavBar({inDoc, docId}) {\n\n    const classes = useStyles();\n    const history = useHistory();\n    const [anchorEl, setAnchorEl] = useState(null);\n    const [openShareDocForm, setOpenShareDocForm] = useState(false);\n    const { openSnackbar, setOpenSnackbar, message, setMessage, user, timeout } = useAuth()\n    const shareEmailRef = useRef();\n    const [isCreatingNewDoc, setIsCreatingNewDoc] = useState(false);\n\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n      };\n    \n      const handleClose = () => {\n        setAnchorEl(null);\n      };\n\n      const handleSignout = async () => {\n        setAnchorEl(null);\n        try {\n            await auth.signOut();\n            history.push('/login')\n        } catch (e) {\n            console.log(e);\n            setMessage(e.message);\n            setOpenSnackbar(true);\n        }\n      };\n\n      const goToProfile = async () => {\n        setAnchorEl(null);\n        history.push(\"/profile\")\n      };\n\n      const startShareDoc = () =>{\n          setOpenShareDocForm(true);\n      }\n\n      const endShareDoc = () => {\n          setOpenShareDocForm(false);\n      }\n\n\n      const processShareDoc = () => {\n        try {\n            console.log(\"++++++ processShareDoc from firebase\")\n         \n            firebase.database().ref(process.env.REACT_APP_DB_NAME).child(`/${SHA256(shareEmailRef.current.value)}-user`).push({ docId: docId } );\n        } catch (e) {\n            setOpenSnackbar(true)\n            setMessage(e.message)\n            console.log(\"error loading from firebse\", e)\n        }\n\n        setOpenShareDocForm(false);\n    }\n\n    const goToNewDoc = async (e) => {\n        const docId = uuid();\n        try {\n            setIsCreatingNewDoc(true);\n            console.log(\"++++++ creating doc to firebase\")\n            await firebase.database().ref(process.env.REACT_APP_DB_NAME).child(`/${SHA256(user.email)}-user`).push({ docId: docId } );\n            await firebase.database().ref(process.env.REACT_APP_DB_NAME).child(`/${docId}-misc`).update({ createdBy: user.email , createdTime: new Date().getTime(), title : \"Untitled\" } );\n        } catch (e) {\n            await timeout(1500)\n            setIsCreatingNewDoc(false);\n            setOpenSnackbar(true)\n            setMessage(\"Error on creating a new document\");\n            return;\n        }\n\n        await timeout(1500);\n\n        setIsCreatingNewDoc(false);\n        history.push(`/doc/${docId}`)\n    }\n    return (\n        <AppBar position=\"static\" color=\"primary\">\n        <Snackbar\n            anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n             open={openSnackbar}\n            // onClose={handleClose}\n            message={message}\n            autoHideDuration={3000}\n            onClose={() =>{ setOpenSnackbar(false); setMessage(\"\")}}\n          //  key={vertical + horizontal}\n        />\n        <Toolbar>\n            <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n            <Button component={Link} to=\"/home\" color=\"inherit\"> <HomeIcon /></Button>   \n            </IconButton>\n            <Typography variant=\"h6\" className={classes.title}>\n            Collaborative Doc\n            </Typography>\n             {!user && <Button component={Link} to=\"/login\" color=\"inherit\"> <AccountCircle/> Log In</Button>}\n             {user && !inDoc && <Button onClick={goToNewDoc} color=\"inherit\"> <AddCircleIcon/>   Create A New Doc</Button>}\n             {user && inDoc && <Button onClick={startShareDoc} color=\"inherit\"> \n                    <ShareIcon/>   Share Doc\n                    \n                    </Button>}\n             {user && <div>\n                <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick} color=\"inherit\">  \n                    <MenuIcon color=\"inherit\" />\n                    </Button>  \n                    <Menu\n                        id=\"simple-menu\"\n                        anchorEl={anchorEl}\n                        keepMounted\n                        open={Boolean(anchorEl)}\n                        onClose={handleClose}\n                    >\n                    <MenuItem onClick={goToProfile}>Profile</MenuItem>\n                    <MenuItem onClick={handleSignout}>Logout</MenuItem>\n                </Menu>\n                </div>\n             }\n             <Dialog open={openShareDocForm} onClose={endShareDoc} aria-labelledby=\"form-dialog-title\">\n                <DialogTitle id=\"form-dialog-title\">Share Doc</DialogTitle>\n                <DialogContent>\n                <DialogContentText>\n                    To share, please enter the email\n                </DialogContentText>\n                <TextField\n                    autoFocus\n                    margin=\"dense\"\n                    id=\"name\"\n                    label=\"Email Address\"\n                    type=\"email\"\n                    fullWidth\n                    inputRef={shareEmailRef}\n                />\n                </DialogContent>\n                <DialogActions>\n                <Button onClick={endShareDoc} color=\"primary\">\n                    Cancel\n                </Button>\n                <Button onClick={processShareDoc} color=\"primary\">\n                    Share\n                </Button>\n                </DialogActions>\n            </Dialog>\n            \n            <Dialog open={isCreatingNewDoc} onClose={()=>{}} aria-labelledby=\"form-dialog-title\">\n                <DialogTitle id=\"form-dialog-title\">Creating Doc</DialogTitle>\n                <DialogContent>\n                <DialogContentText className='center'>\n                    Creating New Doc... Please wait...\n                    <CircularProgress  />\n                </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                </DialogActions>\n            </Dialog>\n\n\n\n        </Toolbar>\n        </AppBar> \n    )\n}\n","import Recat, { useState, useEffect, useRef, createRef } from 'react'\nimport { useParams } from \"react-router-dom\";\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport '../styles.css'\nimport firebase from '../Firebase';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Button from '@material-ui/core/Button';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport TextField from '@material-ui/core/TextField';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport TitleIcon from '@material-ui/icons/Title';\nimport { useAuth } from '../AuthContext';\n\nimport NavBar from './NavBar';\nimport { useHistory } from 'react-router-dom';\nimport { CircularProgress, LinearProgress } from '@material-ui/core';\nimport uuid from 'react-uuid'\n\nexport default function Document() {\n\n    const quill = useRef();\n    const [text, setText] = useState(\"\");\n    const [title, setTitle] = useState(\"Untitled\");\n    const { docId } = useParams();\n    const [sessionId, setSessionId] = useState(uuid());\n\n    const titleRef = createRef();\n    const [disableTitle, setDisableTitle] = useState(false)\n    const { user, setOpenSnackbar, setMessage, timeout } = useAuth()\n    const history = useHistory();\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        if (!user) {\n            history.push('/login')\n        }\n    }, [])\n    \n   \n    // Initialize Firebase\n    useEffect( () => {\n        setLoading(true)\n        try {\n\n             firebase.database().ref(process.env.REACT_APP_DB_NAME).child(`/${docId}-content`).on('child_added', function(data) {\n                console.log(\"------ fetching content from firebase\")\n                var childData = data.val();\n                if (quill && quill.current && childData.sessionId !== sessionId) {\n                    const editor = quill.current.getEditor();\n                    editor.updateContents(childData.delta);\n                }\n            })\n\n             firebase.database().ref(process.env.REACT_APP_DB_NAME).child(`/${docId}-misc`).on('value', function(data){\n                console.log(\"------ fetching title from firebase\")\n                var childData = data.val();\n                setTitle(childData.title);\n                \n            })\n        } catch (e) {\n            console.log(\"error loading from firebse\", e)\n        }\n\n        setTimeout( () => setLoading(false), 1000);\n    }, []);\n\n    const uploadChanges = (content, delta, source, editor) => {\n        if (source !== 'user') {\n            return;\n        }\n        console.log(\"++++++ uploading delta to firebase\")\n        firebase.database().ref(process.env.REACT_APP_DB_NAME).child(`/${docId}-content`).push({ sessionId: sessionId , delta : delta } );\n    }\n\n\n    const uploadTitle = (text) => {\n        if (!text || text.trim().length === 0) {\n            return;\n        }\n        console.log(\"++++++ uploading title to firebase\")\n        firebase.database().ref(process.env.REACT_APP_DB_NAME).child(`/${docId}-misc`).update({title : text});\n    }\n\n    return (\n        <div>\n            \n            <NavBar inDoc={true} docId={docId}/>\n            <TextField\n                id=\"standard-full-width\"\n                placeholder=\"   Document Title\"\n                fullWidth\n                value={title}\n                margin=\"normal\"\n                InputLabelProps={{\n                    shrink: true,\n                }}\n                inputRef={titleRef}\n                disabled={disableTitle || loading}\n                readOnly={true}\n                onChange={(e)=>{\n                    if (e.target.value.trim().length === 0) {\n                        setOpenSnackbar(true);\n                        setMessage(\"Title cannot be empty\");\n                        return;\n                    }\n                    setTitle(e.target.value);\n                }}\n                onKeyPress={(ev) => {\n                    if (ev.key === 'Enter') {\n                        titleRef.current.blur();\n                        setDisableTitle(true);\n                       // setTitle(titleRef.current.value)\n                        uploadTitle(titleRef.current.value)\n                        // console.log(\"bluering\")\n                    }\n                }}\n                onClick={()=>{\n                    setDisableTitle(false)\n                }}\n                onFocus={()=>{\n                    setDisableTitle(false)\n                    console.log(22)\n                }}\n                onBlur={()=>{\n                    setDisableTitle(true)\n                    console.log(333)\n                    // setTitle(titleRef.current.value)\n                    uploadTitle(titleRef.current.value)\n                }\n\n                }\n                InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <TitleIcon />\n                      </InputAdornment>\n                    ),\n                  }}\n            />\n            {loading && <div><LinearProgress color='primary' size={80} thickness={10} /></div> }\n\n            <ReactQuill \n                theme=\"snow\"\n                onChange={uploadChanges}\n                readOnly={ loading}\n                ref={quill}\n            />\n        </div>\n    )\n\n}","\nimport React, { useRef, useEffect } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\n\nimport NavBar from './NavBar';\n\nimport { auth } from '../Firebase';\n\nimport { useAuth } from '../AuthContext';\nimport { useHistory } from 'react-router-dom';\n\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n      marginTop: theme.spacing(8),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n    },\n    icon: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.primary.dark\n    },\n    form: {\n      width: '100%', // Fix IE 11 issue.\n      marginTop: theme.spacing(3),\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n  }));\n\n  export default function SignUp() {\n    const classes = useStyles();\n  \n    const emailRef = useRef();\n    const passwordRef = useRef();\n    const password2Ref = useRef();\n\n    const { setOpenSnackbar, setMessage, user } = useAuth()\n    const history = useHistory();\n\n    useEffect(() => {\n        if (user) {\n            history.push('/home')\n        }\n      }, [])\n\n   \n\n    const signUp = async (e) => {\n        e.preventDefault();\n        if (passwordRef.current.value !== password2Ref.current.value) {\n            setMessage(\"password does not match\");\n            setOpenSnackbar(true);\n            return;\n        }\n        try {\n            await auth.createUserWithEmailAndPassword(emailRef.current.value, passwordRef.current.value);\n            history.push('/home')\n        } catch (e) {\n            console.log(e);\n            setMessage(e.message);\n            setOpenSnackbar(true);\n        }\n    }\n\n    return (\n        <div>\n\n            <NavBar />\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n          <Avatar className={classes.icon}>\n            <AccountCircleIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign up\n          </Typography>\n          <form className={classes.form} noValidate>\n            <Grid container spacing={2}>\n              <Grid item xs={12}>\n                <TextField\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  id=\"email\"\n                  label=\"Email Address\"\n                  name=\"email\"\n                  autoComplete=\"email\"\n                  inputRef={emailRef}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  name=\"password\"\n                  label=\"Password\"\n                  type=\"password\"\n                  id=\"password\"\n                  autoComplete=\"current-password\"\n                  inputRef={passwordRef}\n                />\n              </Grid>\n\n              <Grid item xs={12}>\n                <TextField\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  name=\"password2\"\n                  label=\"Confirm Password\"\n                  type=\"password\"\n                  id=\"password2\"\n                  inputRef={password2Ref}\n                />\n              </Grid>\n            </Grid>\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n              onClick={ signUp }\n            >\n              Sign Up\n            </Button>\n            <Grid container justifyContent=\"flex-end\">\n              <Grid item>\n                <Link href=\"#/login\" variant=\"body2\">\n                  Already have an account? Sign in\n                </Link>\n              </Grid>\n            </Grid>\n          </form>\n        </div>\n      </Container>\n\n\n      </div>\n    );\n  }\n  ","\nimport React, { useRef, useEffect } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\n\nimport NavBar from './NavBar';\n\nimport { auth } from '../Firebase';\n\nimport { useAuth } from '../AuthContext';\n\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n      marginTop: theme.spacing(8),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n    },\n    icon: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.primary.dark\n    },\n    form: {\n      width: '100%', // Fix IE 11 issue.\n      marginTop: theme.spacing(3),\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n  }));\n\n  export default function Login() {\n    const classes = useStyles();\n  \n    const emailRef = useRef();\n    const passwordRef = useRef();\n\n    const history = useHistory();\n\n    const { setOpenSnackbar, setMessage, user } = useAuth()\n\n    useEffect(() => {\n        if (user) {\n            history.push('/home')\n        }\n      }, [])\n    const login = async (e) => {\n        e.preventDefault();\n\n        try {\n            await auth.signInWithEmailAndPassword(emailRef.current.value, passwordRef.current.value);\n            history.push('/home')\n        } catch (e) {\n            console.log(e);\n            setMessage(e.message);\n            setOpenSnackbar(true);\n        }\n    }\n\n    return (\n        <div>\n\n            <NavBar />\n                <Container component=\"main\" maxWidth=\"xs\">\n                    <CssBaseline />\n                    <div className={classes.paper}>\n                    <Avatar className={classes.icon}>\n                        <AccountCircleIcon />\n                    </Avatar>\n                    <Typography component=\"h1\" variant=\"h5\">\n                    Login\n                    </Typography>\n                    <form className={classes.form} noValidate>\n                        <Grid container spacing={2}>\n                        <Grid item xs={12}>\n                            <TextField\n                            variant=\"outlined\"\n                            required\n                            fullWidth\n                            id=\"email\"\n                            label=\"Email Address\"\n                            name=\"email\"\n                            autoComplete=\"email\"\n                            inputRef={emailRef}\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                            variant=\"outlined\"\n                            required\n                            fullWidth\n                            name=\"password\"\n                            label=\"Password\"\n                            type=\"password\"\n                            id=\"password\"\n                            autoComplete=\"current-password\"\n                            inputRef={passwordRef}\n                            />\n                        </Grid>\n                        </Grid>\n                        <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.submit}\n                        onClick={ login }\n                        >\n                        Log In\n                        </Button>\n                        <Grid container justifyContent=\"flex-end\">\n                        <Grid item>\n                            <Link href=\"#/signup\" variant=\"body2\">\n                            Don't have an account? Sign up\n                            </Link>\n                        </Grid>\n                        </Grid>\n                    </form>\n                    </div>\n                </Container>\n      </div>\n    );\n  }\n  ","import React, { useEffect, useState } from 'react'\nimport { useAuth } from '../AuthContext';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport NavBar from './NavBar';\nimport AssignmentIcon from '@material-ui/icons/Assignment';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport { useHistory } from 'react-router-dom';\nimport firebase from '../Firebase';\nimport { Link } from 'react-router-dom';\nimport { CircularProgress, LinearProgress, Typography } from '@material-ui/core';\nimport SHA256 from \"crypto-js/sha256\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      flexGrow: 1,\n    },\n    paper: {\n      padding: theme.spacing(2),\n      textAlign: 'left',\n      verticalAlign: 'middle',\n      color: theme.palette.text.secondary,\n      fontSize: '30px'\n    },\n    icon: {\n        color: 'rgb(48, 128, 188)'\n    }\n  }));\n\nfunction Home() {\n\n    const { user, timeout } = useAuth();\n    const classes = useStyles();\n    const history = useHistory();\n    const [myDocs, setMyDocs] = useState([]);\n    const [loading, setLoading] = useState(false);\n\n    useEffect( () => {\n        if (!user) {\n            history.push('/login')\n            return;\n        }\n\n        console.log(\"start loading\")\n        setLoading(true)\n        console.log(\"done loading\")\n\n        firebase.database().ref(process.env.REACT_APP_DB_NAME).child(`/${SHA256(user.email)}-user`).on('child_added', function(data) {\n            console.log(\"------ fetching user from firebase\")\n            var childData = data.val();\n            if (childData) {\n\n                firebase.database().ref(process.env.REACT_APP_DB_NAME).child(`/${childData.docId}-misc`).on('value', function(titleData) {\n                    console.log(\"------ fetching user-title from firebase\")\n                    var titleChild = titleData.val();\n                    const found = myDocs.some(el => el.docId === childData.docId);\n                    if (!found) {\n                        setMyDocs(arr =>[...arr, {...titleChild, docId : childData.docId}].sort((a, b) =>{\n                            return a.createdTime < b.createdTime;\n                        }))\n                    }\n                })\n            }\n\n        })\n\n        console.log(myDocs)\n       \n        setTimeout( ()=>setLoading(false), 1000);\n\n      }, [])\n    console.log(\"home page rendering\")\n\n    return (\n        <div>\n            <NavBar></NavBar>\n            {loading && <div className='center'><CircularProgress color='primary'size={60} /><Typography variant=\"h5\">Loading Docs...</Typography></div> }\n            { !loading && <Box m={2} pt={3}>\n                <Box m={2} pt={3}>\n                <Typography className='center' variant=\"h4\" > My Docs</Typography>\n                <Divider variant=\"middle\"/>\n                </Box>\n                <Grid container spacing={3}>\n                {(myDocs.length === 0 || !myDocs.some(el => el.createdBy === user.email)) ? <Typography variant=\"h5\" >No docs found</Typography> :\n                [...myDocs].map((x, i) => \n                    x.createdBy === user.email &&\n                    <Grid item xs={4} key={x.docId}>\n                        <Card className={classes.root}>\n                        <CardActionArea component={Link} to={`/doc/${x.docId}`}>\n                            <CardContent   className={classes.paper}> \n                                <AssignmentIcon color='primary' /> \n                                <Typography variant=\"h5\" > {x.title}</Typography>\n                                <Typography variant=\"body1\" > {\" \"}</Typography>\n                                <Typography variant=\"caption\" > {new Date(x.createdTime).toString(\"MMM dd hh:mm\")}</Typography>\n                                 </CardContent>\n                        </CardActionArea>\n                        </Card>\n                    </Grid>\n                )}\n                </Grid>\n                <Box m={2} pt={3}>\n                <Typography className='center' variant=\"h4\" > Docs shared to me</Typography>\n                <Divider variant=\"middle\" />\n                </Box>\n                \n                <Grid container spacing={3}>\n                {(myDocs.length === 0 || !myDocs.some(el => el.createdBy !== user.email)) ? <Typography variant=\"h5\" >No docs found</Typography> :\n                [...myDocs].map((x, i) => \n                    x.createdBy !== user.email &&\n                    <Grid item xs={4} key={x.docId}>\n                        <Card className={classes.root}>\n                        <CardActionArea component={Link} to={`/doc/${x.docId}`}>\n                            <CardContent   className={classes.paper}> \n                                <AssignmentIcon color='primary' /> \n                                <Typography variant=\"h5\" > {x.title}</Typography>\n                                <Typography variant=\"body1\" > From: {x.createdBy}</Typography>\n                                <Typography variant=\"caption\" > {new Date(x.createdTime).toString()}</Typography>\n                                 </CardContent>\n                        </CardActionArea>\n                        </Card>\n                    </Grid>\n                )}\n                </Grid>\n\n            </Box> }\n        </div>\n    )\n}\n\nexport default Home\n","import React, { useEffect, useState } from 'react'\nimport { useAuth } from '../AuthContext';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport NavBar from './NavBar';\nimport AssignmentIcon from '@material-ui/icons/Assignment';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport { useHistory } from 'react-router-dom';\nimport firebase from '../Firebase';\nimport { Link } from 'react-router-dom';\nimport { Typography } from '@material-ui/core';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      flexGrow: 1,\n    },\n    paper: {\n      padding: theme.spacing(2),\n      textAlign: 'left',\n      verticalAlign: 'middle',\n      color: theme.palette.text.secondary,\n      fontSize: '30px'\n    },\n  }));\n\nfunction Profile() {\n\n    const { user } = useAuth();\n    const classes = useStyles();\n    const history = useHistory();\n    const [myDocs, setMyDocs] = useState([]);\n\n    useEffect(() => {\n        if (!user) {\n            history.push('/login')\n            return;\n        }\n      }, [])\n\n    return (\n       \n\n        <div>\n            <NavBar></NavBar>\n                <Card className='center'>\n                    <AccountCircle color='primary' size={44}> </AccountCircle>\n                    <Typography>Email: {user.email}</Typography>\n                </Card>\n        </div>\n    )\n}\n\nexport default Profile\n","\nimport Recat, { useState, useEffect, useRef } from 'react'\nimport Document from \"./components/Document\";\nimport Signup from './components/Signup';\nimport Login from './components/Login'\nimport Home from './components/Home'\nimport Profile from './components/Profile'\nimport { HashRouter, Switch, Route, Redirect } from \"react-router-dom\" \nimport { AuthProvider } from './AuthContext';\nimport uuid from 'react-uuid'\nimport SHA256 from \"crypto-js/sha256\";\nfunction App() {\n\n  var sha256Hash = SHA256(\"Test1\");\n  return (\n    <AuthProvider>\n    <HashRouter>\n      <Switch>\n        <Route exact path=\"/\">\n          <Redirect to={`/home`} />\n        </Route>\n        <Route exact path=\"/signup\">\n          <Signup />\n        </Route>\n        <Route exact path=\"/login\">\n          <Login />\n        </Route>\n        <Route exact path=\"/home\">\n          <Home />\n        </Route>\n        <Route exact path=\"/profile\">\n          <Profile />\n        </Route>\n        <Route path=\"/doc/:docId\">\n          <Document/>\n        </Route>\n      </Switch>\n    </HashRouter>\n\n  </AuthProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';  \n\nconst rgb = 'rgb(48, 128, 188)';\nconst theme = createMuiTheme({\n  palette: {\n     primary: {\n        light: rgb,\n        main: rgb,\n        dark: rgb\n     },\n     secondary: {\n       main: rgb,\n     },\n  },\n  typography: { \n     useNextVariants: true\n  }\n});\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <MuiThemeProvider theme = { theme }>\n    <App />\n    </MuiThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}