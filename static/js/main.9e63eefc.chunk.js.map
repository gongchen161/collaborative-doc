{"version":3,"sources":["Firebase.js","AuthContext.js","components/NavBar.js","components/Document.js","components/Signup.js","components/Login.js","components/Home.js","App.js","index.js"],"names":["firebase","apps","length","console","log","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","e","auth","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","user","setUser","openSnackbar","setOpenSnackbar","value","message","setMessage","useEffect","onAuthStateChanged","u","Provider","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","NavBar","classes","history","useHistory","goToNewDoc","a","docId","uuid","database","ref","child","uid","push","AppBar","position","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","onClose","Toolbar","IconButton","edge","className","color","Typography","variant","Button","component","Link","to","onClick","Document","sessionId","quill","useRef","setTitle","useParams","titleRef","createRef","disableTitle","setDisableTitle","on","data","childData","val","current","getEditor","updateContents","delta","limitToLast","uploadTitle","text","TextField","id","placeholder","fullWidth","margin","InputLabelProps","shrink","inputRef","disabled","readOnly","autoFocus","onChange","target","onKeyPress","ev","key","blur","onFocus","onBlur","InputProps","startAdornment","InputAdornment","content","source","editor","paper","marginTop","display","flexDirection","alignItems","icon","backgroundColor","palette","primary","dark","form","width","submit","SignUp","emailRef","passwordRef","password2Ref","signUp","preventDefault","createUserWithEmailAndPassword","Container","maxWidth","CssBaseline","Avatar","noValidate","Grid","container","item","xs","required","label","name","autoComplete","type","justifyContent","href","Login","login","signInWithEmailAndPassword","padding","textAlign","verticalAlign","secondary","fontSize","Home","myDocs","setMyDocs","arr","Box","m","pt","map","x","i","Card","CardActionArea","CardContent","linkto","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9e63eefc.chunk.js","sourcesContent":["\nimport firebase from 'firebase';\n\nexport const firebaseConfig = {\n    apiKey: process.env.REACT_APP_API_KEY,\n    authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n    projectId: process.env.REACT_APP_PROJECT_ID,\n    storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n    messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n    appId: process.env.REACT_APP_APP_ID\n};\n\ntry {\n    if(!firebase.apps.length) {\n        console.log(\"initializing firebase\");\n        firebase.initializeApp(firebaseConfig)\n    } \n} catch (e) {\n    console.log(\"error initializing firebase\", e);\n}\nexport default firebase;\nexport const auth = firebase.auth();","\n\nimport React, { useState, useEffect, useRef, useContext } from 'react'\n\nimport { auth } from './Firebase';\n\nconst AuthContext = React.createContext();\n\nexport function useAuth(){\n     return useContext(AuthContext);\n}\n\nexport function AuthProvider({ children }) {\n    const [user, setUser] = useState();\n    const [openSnackbar, setOpenSnackbar] = useState(false)\n    const [message, setMessage] = useState(\"\");\n    const value = {\n        user,\n        openSnackbar,\n        setOpenSnackbar,\n        message,\n        setMessage\n    }\n\n    useEffect(() => {\n        const cleanup = auth.onAuthStateChanged( (u) => {\n            setUser(u);\n        })\n        return cleanup;\n    }, [])\n  \n\n    return (\n        <AuthContext.Provider value={value}>\n            {children}\n        </AuthContext.Provider>\n\n    )\n\n}","import Recat, { useState, useEffect, useRef } from 'react'\nimport { useParams } from \"react-router-dom\";\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport '../styles.css'\nimport firebase from '../Firebase';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Button from '@material-ui/core/Button';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport TextField from '@material-ui/core/TextField';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport TitleIcon from '@material-ui/icons/Title';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { useAuth } from '../AuthContext';\nimport { Link } from 'react-router-dom';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport uuid from 'react-uuid'\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      flexGrow: 1,\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    title: {\n      flexGrow: 1,\n    },\n  }));\n\nexport default function NavBar() {\n\n    const classes = useStyles();\n    const history = useHistory();\n\n    const { openSnackbar, setOpenSnackbar, message, setMessage, user } = useAuth()\n\n    const goToNewDoc = async (e) => {\n        const docId = uuid();\n        try {\n            firebase.database().ref(process.env.REACT_APP_DB_NAME).child(`/${user.uid}-user`).push({ docId: docId , title : \"\" } );\n        } catch (e) {\n            setOpenSnackbar(true)\n            setMessage(\"Error on creating a new document\");\n            return;\n        }\n        history.push(`/doc/${docId}`)\n        \n    }\n    return (\n        <AppBar position=\"static\">\n        <Snackbar\n            anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n             open={openSnackbar}\n            // onClose={handleClose}\n            message={message}\n            autoHideDuration={3000}\n            onClose={() =>{ setOpenSnackbar(false); setMessage(\"\")}}\n          //  key={vertical + horizontal}\n        />\n        <Toolbar>\n            <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n            <MenuIcon />\n            </IconButton>\n            <Typography variant=\"h6\" className={classes.title}>\n            Collaborative Doc\n            </Typography>\n             {!user && <Button component={Link} to=\"/login\" color=\"inherit\"> <AccountCircle/> </Button>}\n             {user && <Button onClick={goToNewDoc} color=\"inherit\"> <AddCircleIcon/> </Button>}\n        </Toolbar>\n        </AppBar> \n    )\n}\n","import Recat, { useState, useEffect, useRef, createRef } from 'react'\nimport { useParams } from \"react-router-dom\";\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport '../styles.css'\nimport firebase from '../Firebase';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Button from '@material-ui/core/Button';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport TextField from '@material-ui/core/TextField';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport TitleIcon from '@material-ui/icons/Title';\nimport { useAuth } from '../AuthContext';\n\nimport NavBar from './NavBar';\nimport { useHistory } from 'react-router-dom';\n\nexport default function Document( { sessionId } ) {\n\n    const quill = useRef();\n    const [text, setText] = useState(\"\");\n    const [title, setTitle] = useState(\"\");\n    const { docId } = useParams();\n\n    const titleRef = createRef();\n    const [disableTitle, setDisableTitle] = useState(false)\n    const { user } = useAuth()\n    const history = useHistory();\n    \n    useEffect(() => {\n        if (!user) {\n            history.push('/login')\n        }\n    }, [])\n    \n   \n    // Initialize Firebase\n    useEffect(() => {\n    try {\n        console.log(\"loading changes from firebase\")\n        firebase.database().ref(process.env.REACT_APP_DB_NAME).child(`/${docId}-content`).on('child_added', function(data) {\n            var childData = data.val();\n            if (quill && childData.sessionId !== sessionId) {\n                const editor = quill.current.getEditor();\n                editor.updateContents(childData.delta);\n            }\n        })\n\n        firebase.database().ref(process.env.REACT_APP_DB_NAME).child(`/${docId}-title`).limitToLast(1).on('child_added', function(data) {\n            var childData = data.val();\n            if (childData.sessionId !== sessionId) {\n                setTitle(childData.title);\n            }\n        })\n    } catch (e) {\n        console.log(\"error loading from firebse\", e)\n    }\n    }, []);\n\n    const uploadChanges = (content, delta, source, editor) => {\n        if (source !== 'user') {\n            return;\n        }\n    \n        firebase.database().ref(process.env.REACT_APP_DB_NAME).child(`/${docId}-content`).push({ sessionId: sessionId , delta : delta } );\n    }\n\n\n    const uploadTitle = (text) => {\n        firebase.database().ref(process.env.REACT_APP_DB_NAME).child(`/${docId}-title`).push({ sessionId: sessionId , title : text } );\n    }\n\n    return (\n        <div>\n            <NavBar />\n            <TextField\n                id=\"standard-full-width\"\n                placeholder=\"   Document Title\"\n                fullWidth\n                value={title}\n                margin=\"normal\"\n                InputLabelProps={{\n                    shrink: true,\n                }}\n                inputRef={titleRef}\n                disabled={disableTitle}\n                readOnly={true}\n                autoFocus={true}\n                onChange={(e)=>{\n                    setTitle(e.target.value);\n                }}\n                onKeyPress={(ev) => {\n                    if (ev.key === 'Enter') {\n                        titleRef.current.blur();\n                        setDisableTitle(true);\n                       // setTitle(titleRef.current.value)\n                        uploadTitle(titleRef.current.value)\n                        // console.log(\"bluering\")\n                    }\n                }}\n                onClick={()=>{\n                    setDisableTitle(false)\n                }}\n                onFocus={()=>{\n                    setDisableTitle(false)\n                    console.log(22)\n                }}\n                onBlur={()=>{\n                    setDisableTitle(true)\n                    console.log(333)\n                    // setTitle(titleRef.current.value)\n                    uploadTitle(titleRef.current.value)\n                }\n\n                }\n                InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <TitleIcon />\n                      </InputAdornment>\n                    ),\n                  }}\n            />\n        \n            <ReactQuill \n                theme=\"snow\"\n                onChange={uploadChanges}\n                ref={quill}\n            />\n        </div>\n    )\n\n}","\nimport React, { useRef, useEffect } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\n\nimport NavBar from './NavBar';\n\nimport { auth } from '../Firebase';\n\nimport { useAuth } from '../AuthContext';\nimport { useHistory } from 'react-router-dom';\n\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n      marginTop: theme.spacing(8),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n    },\n    icon: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.primary.dark\n    },\n    form: {\n      width: '100%', // Fix IE 11 issue.\n      marginTop: theme.spacing(3),\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n  }));\n\n  export default function SignUp() {\n    const classes = useStyles();\n  \n    const emailRef = useRef();\n    const passwordRef = useRef();\n    const password2Ref = useRef();\n\n    const { setOpenSnackbar, setMessage, user } = useAuth()\n    const history = useHistory();\n\n    useEffect(() => {\n        if (!user) {\n            history.push('/home')\n        }\n      }, [])\n\n   \n\n    const signUp = async (e) => {\n        e.preventDefault();\n        if (passwordRef.current.value !== password2Ref.current.value) {\n            setMessage(\"password does not match\");\n            setOpenSnackbar(true);\n            return;\n        }\n        try {\n            await auth.createUserWithEmailAndPassword(emailRef.current.value, passwordRef.current.value);\n        } catch (e) {\n            console.log(e);\n            setMessage(e.message);\n            setOpenSnackbar(true);\n        }\n    }\n\n    return (\n        <div>\n\n            <NavBar />\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n          <Avatar className={classes.icon}>\n            <AccountCircleIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign up\n          </Typography>\n          <form className={classes.form} noValidate>\n            <Grid container spacing={2}>\n              <Grid item xs={12}>\n                <TextField\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  id=\"email\"\n                  label=\"Email Address\"\n                  name=\"email\"\n                  autoComplete=\"email\"\n                  inputRef={emailRef}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  name=\"password\"\n                  label=\"Password\"\n                  type=\"password\"\n                  id=\"password\"\n                  autoComplete=\"current-password\"\n                  inputRef={passwordRef}\n                />\n              </Grid>\n\n              <Grid item xs={12}>\n                <TextField\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  name=\"password2\"\n                  label=\"Confirm Password\"\n                  type=\"password\"\n                  id=\"password2\"\n                  inputRef={password2Ref}\n                />\n              </Grid>\n            </Grid>\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n              onClick={ signUp }\n            >\n              Sign Up\n            </Button>\n            <Grid container justifyContent=\"flex-end\">\n              <Grid item>\n                <Link href=\"#/login\" variant=\"body2\">\n                  Already have an account? Sign in\n                </Link>\n              </Grid>\n            </Grid>\n          </form>\n        </div>\n      </Container>\n\n\n      </div>\n    );\n  }\n  ","\nimport React, { useRef, useEffect } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\n\nimport NavBar from './NavBar';\n\nimport { auth } from '../Firebase';\n\nimport { useAuth } from '../AuthContext';\n\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n      marginTop: theme.spacing(8),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n    },\n    icon: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.primary.dark\n    },\n    form: {\n      width: '100%', // Fix IE 11 issue.\n      marginTop: theme.spacing(3),\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n  }));\n\n  export default function Login() {\n    const classes = useStyles();\n  \n    const emailRef = useRef();\n    const passwordRef = useRef();\n\n    const history = useHistory();\n\n    const { setOpenSnackbar, setMessage, user } = useAuth()\n\n    useEffect(() => {\n        if (!user) {\n            history.push('/login')\n        }\n      }, [])\n    const login = async (e) => {\n        e.preventDefault();\n\n        try {\n            await auth.signInWithEmailAndPassword(emailRef.current.value, passwordRef.current.value);\n            history.push('/home')\n        } catch (e) {\n            console.log(e);\n            setMessage(e.message);\n            setOpenSnackbar(true);\n        }\n    }\n\n    return (\n        <div>\n\n            <NavBar />\n                <Container component=\"main\" maxWidth=\"xs\">\n                    <CssBaseline />\n                    <div className={classes.paper}>\n                    <Avatar className={classes.icon}>\n                        <AccountCircleIcon />\n                    </Avatar>\n                    <Typography component=\"h1\" variant=\"h5\">\n                    Login\n                    </Typography>\n                    <form className={classes.form} noValidate>\n                        <Grid container spacing={2}>\n                        <Grid item xs={12}>\n                            <TextField\n                            variant=\"outlined\"\n                            required\n                            fullWidth\n                            id=\"email\"\n                            label=\"Email Address\"\n                            name=\"email\"\n                            autoComplete=\"email\"\n                            inputRef={emailRef}\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                            variant=\"outlined\"\n                            required\n                            fullWidth\n                            name=\"password\"\n                            label=\"Password\"\n                            type=\"password\"\n                            id=\"password\"\n                            autoComplete=\"current-password\"\n                            inputRef={passwordRef}\n                            />\n                        </Grid>\n                        </Grid>\n                        <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.submit}\n                        onClick={ login }\n                        >\n                        Log In\n                        </Button>\n                        <Grid container justifyContent=\"flex-end\">\n                        <Grid item>\n                            <Link href=\"#/signup\" variant=\"body2\">\n                            Don't have an account? Sign up\n                            </Link>\n                        </Grid>\n                        </Grid>\n                    </form>\n                    </div>\n                </Container>\n      </div>\n    );\n  }\n  ","import React, { useEffect, useState } from 'react'\nimport { useAuth } from '../AuthContext';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport NavBar from './NavBar';\nimport AssignmentIcon from '@material-ui/icons/Assignment';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport { useHistory } from 'react-router-dom';\nimport firebase from '../Firebase';\nimport { Link } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      flexGrow: 1,\n    },\n    paper: {\n      padding: theme.spacing(2),\n      textAlign: 'left',\n      verticalAlign: 'middle',\n      color: theme.palette.text.secondary,\n      fontSize: '30px'\n    },\n  }));\n\nfunction Home() {\n\n    const { user } = useAuth();\n    const classes = useStyles();\n    const history = useHistory();\n    const [myDocs, setMyDocs] = useState([]);\n    useEffect(() => {\n        if (!user) {\n            history.push('/login')\n            return;\n        }\n\n        firebase.database().ref(process.env.REACT_APP_DB_NAME).child(`/${user.uid}-user`).on('child_added', function(data) {\n            var childData = data.val();\n            if (childData) {\n                setMyDocs(arr =>[...arr, childData])\n             }\n        })\n\n        console.log(myDocs)\n\n      }, [])\n    console.log(\"home page rendering\")\n\n    return (\n        <div>\n            <NavBar></NavBar>\n            <Box m={2} pt={3}>\n                <Grid container spacing={3}>\n                {[...myDocs].map((x, i) =>\n                    <Grid item xs={12} key={x.docId}>\n                        <Card className={classes.root}>\n                        <CardActionArea>\n                            <CardContent component={Link} to={`/doc/${x.docId}`}  className={classes.paper} linkto> <AssignmentIcon /> { x.docId } {x.title} </CardContent>\n                        </CardActionArea>\n                        </Card>\n                    </Grid>\n                )}\n                </Grid>\n            </Box>\n        </div>\n    )\n}\n\nexport default Home\n","\nimport Recat, { useState, useEffect, useRef } from 'react'\nimport Document from \"./components/Document\";\nimport Signup from './components/Signup';\nimport Login from './components/Login'\nimport Home from './components/Home'\nimport uuid from 'react-uuid'\n\nimport { HashRouter, Switch, Route, Redirect } from \"react-router-dom\" \nimport { AuthProvider } from './AuthContext';\n\nfunction App() {\n  const sessionId = uuid();\n\n\n  return (\n    <AuthProvider>\n    <HashRouter>\n      <Switch>\n        <Route exact path=\"/\">\n          <Redirect to={`/home`} />\n        </Route>\n        <Route exact path=\"/signup\">\n          <Signup \n          />\n        </Route>\n        <Route exact path=\"/login\">\n          <Login \n          />\n        </Route>\n        <Route exact path=\"/home\">\n          <Home \n          />\n        </Route>\n        <Route path=\"/doc/:docId\">\n          <Document \n            sessionId={sessionId}\n          />\n          <div>v1.2</div>\n        </Route>\n      </Switch>\n    </HashRouter>\n\n  </AuthProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}